(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},129:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(42),l=a.n(s),c=(a(72),a(10)),i=a(11),o=a(13),m=a(12),u=a(14),d=a(63),h=a(144),p=(a(73),a(149)),E={headers:{"X-Mashape-Key":"Qu9grxVNWpmshA4Kl9pTwyiJxVGUp1lKzrZjsnghQMkFkfA4LB",Accept:"application/json"}},f=new function(){var e=this,t=null===localStorage.getItem("app_NumberOfGuests")?4:parseInt(localStorage.app_NumberOfGuests),a=null===localStorage.getItem("app_SelectedDishes")?[]:JSON.parse(localStorage.app_SelectedDishes),n=[];this.GUESTS="guests",this.DISH="dish",this.ERROR_SUFFIX="Something went wrong...",this.ERROR_PRICE_OF_DISH="Cannot get price of dish.",this.ERROR_ADD_DISH="Cannot add dish to menu.",this.WEB_ERROR_MESSAGE='<div class="row equal" style="text-align:center;">Something went wrong, please try again in a few seconds...</div>',this.setNumberOfGuests=function(a){isNaN(a)||(t=a,localStorage.setItem("app_NumberOfGuests",a),l(e.GUESTS))},this.getNumberOfGuests=function(){return t},this.getSelectedDish=function(e){for(var t in a)if(t.dishTypes[0]===e)return t},this.getSelectedDishes=function(){return a},this.getAllIngredients=function(){for(var e=[],t=0;t<a.length;t++)for(var n=0;n<a[t].ingredients.length;n++)e.push(a[t].ingredients[n]);return e},this.getTotalMenuPrice=function(){return Math.round(100*a.reduce(function(t,a){return t+e.getPriceOfDish(a)},0))/100},this.getPriceOfDish=function(e){return Math.round(e.pricePerServing*e.servings*t*100)/100},this.addDishToMenu=function(t){a.push(t),localStorage.setItem("app_SelectedDishes",JSON.stringify(a)),l(e.DISH)},this.removeDishFromMenu=function(t){for(var n=0;n<a.length;n++)if(a[n].id===t)return a.splice(n,1),void l(e.DISH)},this.getAllDishes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fetch("https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/search?type="+e+"&query="+t+"&number=16",E).then(r).catch(s)},this.getDish=function(e){return fetch("https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/"+e+"/information",E).then(r).catch(s)};var r=function(e){if(e.ok)return e.json();throw e},s=function(e){e.json?e.json().then(function(e){console.error("getAllDishes() API Error:",e.message||e)}):console.error("getAllDishes() API Error:",e.message||e)};this.addObserver=function(e){return n.push(e)},this.removeObserver=function(e){return n=n.filter(function(t){return t!==e})};var l=function(e){return n.forEach(function(t){return t.update(e)})};this.resetCache=function(){localStorage.removeItem("app_NumberOfGuests"),localStorage.removeItem("app_SelectedDishes"),t=4,a=[]}},b=a(142),O=(a(74),a(143)),g=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{sm:12,className:"text-center"},r.a.createElement("p",{className:"Welcome"},"Find and share everyday cooking inspiration on FireCook. Discover recipes, cooks, videos, and how-tos based on the food you love and the friends you follow."),r.a.createElement(O.a,{to:"/search/main%20course/%20"},r.a.createElement("button",{className:"btn btn-primary",onClick:f.resetCache()},"Start planning")))}}]),t}(n.Component),v=(a(110),a(18)),D=a(147),N=(a(111),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){return a.props.model.addObserver(Object(v.a)(Object(v.a)(a)))},a.componentWillUnmount=function(){return a.props.model.removeObserver(Object(v.a)(Object(v.a)(a)))},a.onNumberOfGuestsChanged=function(e){return a.props.model.setNumberOfGuests(+e.target.value)},a.state={numberOfGuests:a.props.model.getNumberOfGuests(),selectedDishes:a.props.model.getSelectedDishes(),totalMenuPrice:a.props.model.getTotalMenuPrice()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"update",value:function(){this.setState({numberOfGuests:this.props.model.getNumberOfGuests(),selectedDishes:this.props.model.getSelectedDishes(),totalMenuPrice:this.props.model.getTotalMenuPrice()})}},{key:"render",value:function(){var e=this,t=this.state.selectedDishes.map(function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.title),r.a.createElement("td",null,e.props.model.getPriceOfDish(t)))});return r.a.createElement(b.a,{sm:3,className:"FauxContainer"},r.a.createElement(b.a,{xsHidden:!0,sm:3,className:"FauxSidebar"}),r.a.createElement(b.a,{sm:3,className:"Sidebar"},r.a.createElement(D.a,null,r.a.createElement(D.a.Header,null,r.a.createElement(D.a.Toggle,null)),r.a.createElement(D.a.Collapse,null,r.a.createElement(b.a,{xsHidden:!0,className:"hiddenPaddingFix"}),r.a.createElement("h3",null,"My dinner"),r.a.createElement("div",null,"People: ",r.a.createElement("input",{value:this.state.numberOfGuests,onChange:this.onNumberOfGuestsChanged}),r.a.createElement("br",null),"Total number of guests: ",this.state.numberOfGuests),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("table",{className:"sidebarSelected"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"hide-hr"},r.a.createElement("th",null,"Dish Name"),r.a.createElement("th",null,"Cost"))),r.a.createElement("tbody",null,t)),r.a.createElement("div",{className:"sidebarTotalCost"},"SEK ",this.state.totalMenuPrice)),r.a.createElement("hr",null),r.a.createElement("center",null,r.a.createElement(O.a,{to:"/overview"},r.a.createElement("button",{className:"btn btn-primary"},"Confirm dinner")))))))}}]),t}(n.Component)),S=a(146),j=a(151),y=a(148),I=a(145),G=(a(129),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){return a.getAllDishes()},a.getAllDishes=function(e,t){e=e||"Main course",t=t||"",f.getAllDishes(e,t).then(function(e){a.setState({status:"LOADED",dishes:e.results,baseUri:e.baseUri})}).catch(function(){a.setState({status:"ERROR"})})},a.state={status:"INITIAL"},a.category="",a.filter="",a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=null;switch(this.state.status){case"INITIAL":t=r.a.createElement("div",{className:"loader"});break;case"LOADED":t=this.state.dishes.map(function(t){return r.a.createElement(b.a,{sm:3,className:"SearchResultsWrapper",key:t.id},r.a.createElement(O.a,{to:"/dish/"+t.id},r.a.createElement(S.a,{className:"SearchResults"},r.a.createElement(S.a.Body,null,r.a.createElement("div",{className:"crop"},r.a.createElement("img",{src:e.state.baseUri+t.image,alt:""}))),r.a.createElement(S.a.Footer,null,t.title))))});break;default:t=r.a.createElement("b",null,"Failed to load data, please try again.")}return r.a.createElement(b.a,{sm:9,smOffset:3,className:"Dishes",key:"dishSearchKey"},r.a.createElement("div",{className:"SearchForm"},r.a.createElement("h3",null,"Find a dish"),r.a.createElement(h.a,null,r.a.createElement(j.a,{className:"FormGroup"},r.a.createElement(b.a,{xs:12,sm:5,md:4,lg:3,className:"FormField"},r.a.createElement(y.a,{id:"search-keywords",type:"text",inputRef:function(t){e.filter=t},placeholder:"Enter key words"})),r.a.createElement(b.a,{xs:12,sm:5,md:4,lg:3,className:"FormField"},r.a.createElement(y.a,{id:"search-category",inputRef:function(t){e.category=t},componentClass:"select"},r.a.createElement("option",null,"Main course"),r.a.createElement("option",null,"Side dish"),r.a.createElement("option",null,"Dessert"),r.a.createElement("option",null,"Appetizer"),r.a.createElement("option",null,"Salad"),r.a.createElement("option",null,"Bread"),r.a.createElement("option",null,"Breakfast"),r.a.createElement("option",null,"Soup"),r.a.createElement("option",null,"Beverage"),r.a.createElement("option",null,"Sauce"),r.a.createElement("option",null,"Drink"))),r.a.createElement(b.a,{xs:12,sm:2,md:4,lg:2,className:"FormField"},r.a.createElement(I.a,{onClick:function(){return e.getAllDishes(e.category.value,e.filter.value)},type:"submit",className:"btn btn-primary"},"Search"))))),r.a.createElement("ul",null,t))}}]),t}(n.Component)),k=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{sm:12,className:"SelectDish"},r.a.createElement(N,{model:this.props.model}),r.a.createElement(G,{category:this.props.match.params.category,filter:this.props.match.params.filter}))}}]),t}(n.Component),P=(a(133),a(134),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.model.addObserver(Object(v.a)(Object(v.a)(a))),f.getDish(a.props.dishId).then(function(e){a.setState({status:"LOADED",dish:e,numberOfGuests:a.props.model.getNumberOfGuests(),priceOfDish:a.props.model.getPriceOfDish(e),tableHeight:30*e.extendedIngredients.length+90,loaded:!0})}).catch(function(){a.setState({status:"ERROR"})})},a.componentWillUnmount=function(){return a.props.model.removeObserver(Object(v.a)(Object(v.a)(a)))},a.update=function(){var e=a.state.dish;a.setState({numberOfGuests:a.props.model.getNumberOfGuests(),priceOfDish:a.props.model.getPriceOfDish(e)})},a.addDishToMenu=function(){return a.props.model.addDishToMenu(a.state.dish)},a.state={status:"INITIAL",numberOfGuests:a.props.model.getNumberOfGuests(),dishId:a.props.dishId,loaded:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=null;switch(this.state.status){case"INITIAL":t=r.a.createElement("div",{className:"loader"});break;case"LOADED":var a={height:this.state.tableHeight},n=this.state.dish.extendedIngredients.map(function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.amount*e.state.numberOfGuests," ",t.unit),r.a.createElement("td",null,t.name))});t=r.a.createElement(h.a,{className:"DishPanelWrapper"},r.a.createElement(b.a,{sm:6,className:"DishInfoIngredients"},r.a.createElement(S.a,{className:"DishPanel"},r.a.createElement(S.a.Body,null,r.a.createElement("h3",null,this.state.dish.title),r.a.createElement("img",{src:this.state.dish.image,alt:""}),r.a.createElement("p",{className:"DishInfoDescription"},this.state.dish.instructions)))),r.a.createElement(b.a,{sm:6,className:"DishInfoIngredients"},r.a.createElement("div",{className:"notepad",style:a},r.a.createElement("table",{className:"notepad-ingredients"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},"Shopping list..."))),r.a.createElement("tbody",null,n))),r.a.createElement("span",{className:"notepad-footer"},"Ingredients for ",this.state.numberOfGuests," people."),r.a.createElement("span",{className:"notepad-footer"},r.a.createElement("br",null),"Total cost will be SEK ",this.state.priceOfDish,".")));break;default:t=r.a.createElement("b",null,"Failed to load data, please try again.")}return r.a.createElement(b.a,{xs:12,sm:9,smOffset:3,className:"DishInfo"},r.a.createElement(b.a,{sm:12,className:"DishPanelWrapper"},r.a.createElement(S.a,{className:"DishPanel"},r.a.createElement(S.a.Body,null,r.a.createElement(O.a,{to:"/search"},r.a.createElement("button",{className:"btn btn-primary"},"Back To Search")),r.a.createElement("button",{className:"btn btn-success pull-right",onClick:this.addDishToMenu,disabled:!this.state.loaded},"Add to menu (+)")))),t)}}]),t}(n.Component)),w=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{sm:12,className:"ViewDish"},r.a.createElement(N,{model:this.props.model}),r.a.createElement(P,{dishId:this.props.match.params.dishId,model:this.props.model}))}}]),t}(n.Component),x=(a(135),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={numberOfGuests:a.props.model.getNumberOfGuests(),totalMenuPrice:a.props.model.getTotalMenuPrice(),selectedDishes:a.props.model.getSelectedDishes()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selectedDishes.map(function(t){return r.a.createElement(b.a,{sm:4},r.a.createElement(S.a,null,r.a.createElement(S.a.Body,null,r.a.createElement("div",{className:"crop"},r.a.createElement("img",{src:t.image,alt:""}))),r.a.createElement(S.a.Footer,null,t.title),r.a.createElement("div",{className:"OverviewPrice"},e.props.model.getPriceOfDish(t)," SEK")))});return r.a.createElement(b.a,{sm:12,className:"text-center Overview"},r.a.createElement("div",{className:"OverviewHeader"},r.a.createElement(O.a,{to:"/search"},r.a.createElement("button",{className:"btn btn-primary"},"Go Back And Edit Dinner"))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(b.a,{smPush:!0,xs:12,sm:4,className:"text-center"},r.a.createElement("div",{className:"OverviewSummary"},r.a.createElement("h3",{className:"dinnerConfirmText"},"Dinner confirmation"),r.a.createElement("p",null,"Dinner for ",this.state.numberOfGuests," people."),r.a.createElement("p",null,"Total cost will be ",this.state.totalMenuPrice," SEK."),r.a.createElement(O.a,{to:"/printout"},r.a.createElement("button",{className:"btn btn-primary"},"Print Full Recipe")))),r.a.createElement(b.a,{xs:12,sm:8},r.a.createElement(h.a,{className:"results-panel"},t))))}}]),t}(n.Component)),A=(a(136),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={numberOfGuests:a.props.model.getNumberOfGuests(),selectedDishes:a.props.model.getSelectedDishes()},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.selectedDishes.map(function(e){return r.a.createElement(S.a,null,r.a.createElement(S.a.Body,null,r.a.createElement(b.a,{sm:2,className:"crop"},r.a.createElement("img",{src:e.image,alt:""})),r.a.createElement(b.a,{sm:4},r.a.createElement("h3",null,e.title),r.a.createElement("p",null,"        Lorem ipsum dolor sit amet, consectetur adipiscing elit,        sed do eiusmod tempor incididunt ut labore et dolore        magna aliqua. Ut enim ad minim veniam, quis nostrud        exercitation ullamco laboris nisi ut aliquip ex ea        commodo consequat. Duis aute irure dolor in        reprehenderit in voluptate velit esse cillum dolore eu        fugiat nulla pariatur. Excepteur sint occaecat cupidatat        non proident, sunt in culpa qui officia deserunt mollit        anim id est laborum.")),r.a.createElement(b.a,{sm:6},r.a.createElement("h3",null,"Preparation"),e.instructions)))});return r.a.createElement(b.a,{sm:12,className:"Printout"},r.a.createElement(S.a,null,r.a.createElement(S.a.Body,null,r.a.createElement(b.a,{sm:2},r.a.createElement(O.a,{to:"/search"},r.a.createElement("button",{className:"btn btn-primary"},"Go Back And Edit Dinner"))),r.a.createElement(b.a,{sm:10},r.a.createElement("h3",{className:"pull-right"},"Dinner for ",this.state.numberOfGuests," people")))),e)}}]),t}(n.Component)),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={title:"Dinner Planner"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{fluid:!0},r.a.createElement(h.a,null,r.a.createElement("div",{className:"App-header"},this.state.title)),r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",component:g}),r.a.createElement(p.a,{path:"/search/:category?/:filter?",render:function(e){return r.a.createElement(k,Object.assign({},e,{model:f}))}}),r.a.createElement(p.a,{path:"/dish/:dishId",render:function(e){return r.a.createElement(w,Object.assign({},e,{model:f}))}}),r.a.createElement(p.a,{exact:!0,path:"/overview",render:function(){return r.a.createElement(x,{model:f})}}),r.a.createElement(p.a,{exact:!0,path:"/printout",render:function(){return r.a.createElement(A,{model:f})}})))}}]),t}(n.Component),M=a(150);l.a.render(r.a.createElement(M.a,null,r.a.createElement(C,null)),document.getElementById("root"))},66:function(e,t,a){e.exports=a(140)},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.5722b681.chunk.js.map